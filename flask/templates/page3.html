<!DOCTYPE html>
<html>
   <head>
      <title> ì˜ ë„ì°©í–ˆì§€ë¡± ğŸŒˆ </title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
      <style>
         body {
         display: flex;
         /* Flex ì»¨í…Œì´ë„ˆë¡œ ì„¤ì • */
         flex-direction: column;
         justify-content: center;
         /* ê°€ë¡œ ê°€ìš´ë° ì •ë ¬ */
         align-items: center;
         /* ì„¸ë¡œ ê°€ìš´ë° ì •ë ¬ */
         background-image: url("{{ url_for('static', filename='background.png') }}");
         background-size: cover;
         /* ë°°ê²½ ì´ë¯¸ì§€ë¥¼ í™”ë©´ì— ë§ê²Œ ì¡°ì ˆ */
         background-repeat: no-repeat;
         /* ë°°ê²½ ì´ë¯¸ì§€ë¥¼ ë°˜ë³µí•˜ì§€ ì•ŠìŒ */
         background-position: center;
         /* ë°°ê²½ ì´ë¯¸ì§€ë¥¼ ê°€ìš´ë°ë¡œ ì •ë ¬ */
         background-attachment: fixed;
         }
         .matrix {
         display: block;
         margin-bottom: 20px;
         }
         .category {
         background-color: rgba(255, 255, 255, 0.7);
         width: 100%;
         padding: 10px;
         border: 1px solid #ccc;
         }
         .subcategory {
         width: 100%;
         padding: 10px;
         border: 1px solid #ccc;
         }
         tbody {
         border: 2px solid #dee2e6;
         }
         /* í…Œì´ë¸” ë¨¸ë¦¬ê¸€ì˜ í…Œë‘ë¦¬ ë‘ê»˜ë¥¼ 2pxë¡œ ì¡°ì ˆ */
         thead {
         border: 2px solid #dee2e6;
         }
      </style>
   </head>
   <body>
      <h1> ì˜ ë„ì°©í–ˆì§€ë¡± ğŸŒˆ </h1>
      <h3>ì—¬í–‰ ê¸°ê°„: {{ start_date }} ~ {{ end_date }} </h3>
      <h3> ì—¬í–‰ ìœ„ì¹˜: {{ region }} </h3>
      <div class="matrix">
         <div class="category">
            <h2> ì—¬í–‰ ê²½ë¹„ ì •ë³´ </h2>
            <h3 class="text-center"> ì´ ê¸ˆì•¡: {{ total_price }} </h3>
            <div class="subcategory">
               <h3>í•­ê³µê¶Œ</h3>
               <div class="subcategory" , name="í•­ê³µê¶Œ_to">
                  {% if selected_output['í•­ê³µê¶Œ_to']|length > 0 %} 
                  <h4>ê°€ëŠ” í¸</h4>
                  <table class="table table-bordered text-center">
                     <thead class="table-light">
                        <tr>
                           {% for key in selected_output['í•­ê³µê¶Œ_to'].keys() %} 
                           <th name="{{ key }}">{{ key }}</th>
                           {% endfor %} 
                        </tr>
                     </thead>
                     <tbody>
                        <tr>
                           {% for key, value in selected_output['í•­ê³µê¶Œ_to'].items() %} 
                           <td name="{{ key }}">{{ value }}</td>
                           {% endfor %} 
                        </tr>
                     </tbody>
                  </table>
                  {% endif %}
               </div>
               <div class="subcategory" , name="í•­ê³µê¶Œ_from">
                  {% if selected_output['í•­ê³µê¶Œ_from']|length > 0 %} 
                  <h4>ì˜¤ëŠ” í¸</h4>
                  <table class="table table-bordered text-center">
                     <thead class="table-light">
                        <tr>
                           {% for key in selected_output['í•­ê³µê¶Œ_from'].keys() %} 
                           <th name="{{ key }}">{{ key }}</th>
                           {% endfor %} 
                        </tr>
                     </thead>
                     <tbody>
                        <tr>
                           {% for key, value in selected_output['í•­ê³µê¶Œ_from'].items() %} 
                           <td name="{{ key }}">{{ value }}</td>
                           {% endfor %} 
                        </tr>
                     </tbody>
                  </table>
                  {% endif %}
               </div>
            </div>
            <div class="subcategory" , name="í˜¸í…”">
               <h3>ìˆ™ë°•ì‹œì„¤</h3>
               {% if selected_output['í˜¸í…”']|length > 0 %} 
               <table class="table table-bordered text-center">
                  <thead class="table-light">
                     <tr>
                        {% for key in selected_output['í˜¸í…”'].keys() %} 
                        <th name="{{ key }}">{{ key }}</th>
                        {% endfor %} 
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        {% for key, value in selected_output['í˜¸í…”'].items() %} 
                        <td name="{{ key }}">{{ value }}</td>
                        {% endfor %} 
                     </tr>
                  </tbody>
               </table>
               {% endif %}
            </div>
            <div class="subcategory" , name="ë ŒíŠ¸ì¹´">
               <h3>ë Œí„°ì¹´</h3>
               {% if selected_output['ë ŒíŠ¸ì¹´']|length > 0 %} 
               <table class="table table-bordered text-center">
                  <thead class="table-light">
                     <tr>
                        {% for key in selected_output['ë ŒíŠ¸ì¹´'].keys() %} 
                        <th name="{{ key }}">{{ key }}</th>
                        {% endfor %} 
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        {% for key, value in selected_output['ë ŒíŠ¸ì¹´'].items() %} 
                        <td name="{{ key }}">{{ value }}</td>
                        {% endfor %} 
                     </tr>
                  </tbody>
               </table>
               {% endif %}
            </div>
         </div>
         <div class="category">
            <h2> ì œì£¼ë„ ë‚ ì”¨ ì •ë³´ğŸŠ </h2>
            {% if weather_output|length > 0 %} 
            <table class="table table-bordered text-center">
                <thead class="table-light">
                    {% for key in weather_output[0] %}
                    <th name="{{ key }}">{{ key }}</th>
                    {% endfor %}
                </thead>
                <tbody>
                    {% for values in weather_output.values() %}
                    <tr>
                        {% for key, value in values.items() %}
                        {% if key in ['Day', 'Weather'] %}
                        <td name="{{ key }}">{{ value }}</td>
                        {% else %}
                        <td name="{{ key }}">{{ value }}Â°C</td>
                        {% endif %}
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% endif %}
         </div>
         <div class="category">
            <h2> ì œì£¼ë„ ë§›ì§‘ ì •ë³´ğŸŠ </h2>
            {% if mangoplate_output|length > 0 %}
            <table class="table table-bordered text-center">
                <thead class="table-light">
                    {% for key in mangoplate_output[0] %}
                    <th name="{{ key }}">{{ key }}</th>
                    {% endfor %}
                </thead>
                <tbody>
                    {% for values in mangoplate_output.values() %}
                    <tr>
                        {% for key, value in values.items() %}
                        <td name="{{ key }}">{{ value }}</td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% elif mangoplate_output is mapping %}
            <h3>{{ region }} ê·¼ì²˜ ìŒì‹ì ì„ ì¡°íšŒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ìš©ì— ë¶ˆí¸ì„ ë“œë ¤ ì£„ì†¡í•©ë‹ˆë‹¤.</h3>
            {% endif %}
         </div>
      </div>
   </body>
</html>